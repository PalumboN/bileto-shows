<div class="container">
  <div class="page-header">
    <h1>
      Shows
    </h1>

    <button class="btn btn-primary" type="button" data-ng-click="ctrl.sync()" data-ng-disabled="ctrl.syncing">Refresh</button>
    <i class="fa fa-spinner fa-pulse fa-2x fa-fw" data-ng-show="ctrl.syncing"></i>
    <span class="sr-only" data-ng-show="ctrl.syncing">Loading...</span>

    <!-- <i class="fa fa-plus-circle" aria-hidden="true"></i>
    <a data-toggle="collapse" href="#collapseShow" aria-expanded="false">Agregar nuevo show</a>
    <div class="collapse" id="collapseShow">
      <div class="input-group">
        <span class="input-group-addon">http://www.ticketek.com.ar/websource/show/</span>
        <input type="text" class="form-control" data-ng-model="ctrl.search">
        <span class="input-group-btn">
          <button class="btn btn-default" type="button" data-ng-click="ctrl.searchShow()">Buscar</button>
        </span>
      </div>
      <div class="input-group">
        <span class="input-group-addon">@</span>
        <input type="text" class="form-control" placeholder="DescripciÃ³n" data-ng-model="ctrl.show.author" disabled>
      </div>

      <div class="input-group">
        <span class="input-group-addon">Fecha</span>
        <input type="text" class="form-control" placeholder="Fecha" data-ng-model="ctrl.show.date" disabled>
      </div>

      <div class="container">
        <p>Sectores</p>
        <ul class="list-group" data-ng-repeat="section in ctrl.show.sections">
          <li class="list-group-item">
            <div class="input-group">
              <span class="input-group-addon">
                <input type="checkbox" data-ng-model="section.selected">
              </span>
              <input type="text" class="form-control" data-ng-model="section.description" disabled>
            </div>
          </li>
        </ul>
      </div>

      <button class="btn btn-primary" type="button" data-ng-click="ctrl.createNewJob()" data-ng-disabled="!ctrl.show || ctrl.noneSectionSelected()">Follow</button>
    </div> -->
  </div>

  <div class="panel panel-default" data-ng-repeat="show in ctrl.shows">
    <div class="container-fluid panel-heading">
      <h3 class="panel-title col col-md-4">{{show.model[0].name}} - {{show.model[0].place.title}}</h3>
      <span class="col col-md-7 text-right" am-time-ago="show.lastUpdate"></span>
      <a href="" class="col col-md-1 text-right" data-ng-click="ctrl.archive(show)"><i class="fa fa-trash fa-lg text-danger" aria-hidden="true"></i></a>
    </div>
    <div class="panel-body" data-ng-repeat="performance in show.model">
      <p>{{performance.author}} - {{performance.date}}</p>
      <table class="table table-hover" data-ng-repeat="section in performance.sections">
        <tr class="active">
          <td class="col col-md-6">{{section.description}} (${{section.full_price}})</td>
          <td class="col col-md-6 text-right"><strong>{{section.section_availability}}</strong></td>
        </tr>
      </table>
    </div>
  </div>

</div>

<hr>

<div class="container">
  <i class="fa fa-plus-circle" aria-hidden="true"></i>
  <a data-toggle="collapse" href="#collapseArchived" aria-expanded="false" data-ng-click="ctrl.loadArchived()">Ver archivados</a>
  <div class="collapse" id="collapseArchived">
    <div class="panel panel-default" data-ng-repeat="show in ctrl.archivedShows">
      <div class="container-fluid panel-heading">
        <h3 class="panel-title col col-md-4">{{show.model[0].name}} - {{show.model[0].place.title}}</h3>
        <a href="" class="col col-md-8 text-right" data-ng-click="ctrl.reactive(show)">Reactivar</a>
      </div>
      <div class="panel-body" data-ng-repeat="performance in show.model">
        <p>{{performance.author}} - {{performance.date}}</p>
        <table class="table table-hover" data-ng-repeat="section in performance.sections">
          <tr class="active">
            <td class="col col-md-6">{{section.description}} (${{section.full_price}})</td>
            <td class="col col-md-6 text-right"><strong>{{section.section_availability}}</strong></td>
          </tr>
        </table>
      </div>
    </div>
  </div>
</div>
